# Quasar İ18n Quasalang Kullanımı

> Quasar Framework uygulamanızın ihtiyaç duyduğu tüm i18n dil dosyalarını bir CSV dosyasından oluşturabiliriz.

`İ18n`: Uluslararasılaştırma, bir ürünün (bir web sitesi veya uygulama) kaynak kodunda mühendislik değişiklikleri gerektirmeden çeşitli dillere ve bölgelere uyarlanabilmesini sağlayan bir tasarım sürecidir.

## Başlangıç Adımları

> Note: Quasar projesinde `i18n` yüklü değilse öncelikle aşağıdaki adımları tamamladıktan sonra 1.adıma geçilmeli. Eğer yüklü ise direk 1.adıma geçilebilir.

Aşağıdaki komut ile i18n yüklenir.

```bash
npm install --save vue-i18n@next
```

`src/boot/i18n.js` yoluna dosya oluşturulup aşağıdaki kod yapıştırılır:

```js
import { createI18n } from "vue-i18n";
import messages from "src/i18n";

export default ({ app }) => {
  // Create I18n instance
  const i18n = createI18n({
    locale: "en-US",
    legacy: false, // comment this out if not using Composition API
    messages,
  });

  // Tell app to use the I18n instance
  app.use(i18n);
};
```

Son olarak `quasar.config ` dosyasına i18n aşağıdaki gibi eklenir:

```js
return {
  boot: [
    // ...
    "i18n",
  ],

  // ...
};
```

### 1.Adım: Global Olarak Quasalangi Yüklemek

```bash
 npm install -g quasalang
```

Daha sonra proje klasörümüze gidiyoruz.

```bash
 cd my-quasar-project
```

### 2.Adım : Örnek CSV Dosyası Oluşturma

```bash
 quasalang create-csv
```

Oluşturduğumuz CVS dosyası `/translations.csv` bu şekilde gözükmeli:

| Key     | English, en-US | French, fr | German, de      |
| ------- | -------------- | ---------- | --------------- |
| hello   | Hello          | Bonjour    | Hallo           |
| goodbye | Goodbye        | Au revoir  | Auf Wiedersehen |
| thanks  | Thanks         | Merci      | Danke           |

<details>
  <summary>Kaynak Kodu</summary>

```csv
Key,"English, en-US","French, fr","German, de"
hello,"Hello","Bonjour","Hallo"
goodbye,"Goodbye","Au revoir","Auf Wiedersehen"
thanks,"Thanks","Merci","Danke"
```

</details>

### 3.Adım: İstediğimiz Dilleri Ve Çevirileri Ekleme

[Edit CSV Vscode eklentisi ile](https://marketplace.visualstudio.com/items?itemName=janisdd.vscode-edit-csv) CSV dosyasında daha pratik çalışabilceğiz.

Örnek olarak Rusça dilini eklediğimizde bu şekilde görünmeli:

| Key      | English, en-US | French, fr          | German, de      | Russian, ru     |
| -------- | -------------- | ------------------- | --------------- | --------------- |
| hello    | Hello          | Bonjour             | Hallo           | Привет          |
| goodbye  | Goodbye        | Au revoir           | Auf Wiedersehen | До свидания     |
| thanks   | Thanks         | Merci               | Danke           | Спасибо         |
| buttHair | Butt hair      | Cheveux bout à bout | Hintern Haare   | стыковые волосы |

<details>
  <summary>Kaynak Kodu</summary>

```csv
Key,"English, en-US","French, fr","German, de","Russian, ru"
hello,"Hello","Bonjour","Hallo",Привет
goodbye,"Goodbye","Au revoir","Auf Wiedersehen",До свидания
thanks,"Thanks","Merci","Danke",Спасибо
buttHair,"Butt hair","Cheveux bout à bout","Hintern Haare",стыковые волосы
```

</details>

### 4.Adım: Dil Dosyalarını Oluşturma

CSV dosyasındaki dilleri oluşturmak için aşağıdaki komutu çalıştırıyoruz:

```bash
 quasalang generate
```

`/src/i18n` klasörü altında oluşturduğumuz diller aşağıdaki gibi görünmeli:

```
src/
├─ i18n/
│  ├─ de/
│  │  ├─ index.js
│  ├─ en-US/
│  │  ├─ index.js
│  ├─ fr/
│  │  ├─ index.js
│  ├─ ru/
│  │  ├─ index.js
│  ├─ index.js
```

`/src/i18n/index.js` dosyası aşağıdaki gibi görünmeli:

```javascript
// This file was auto-generated by Quasalang

import enUS from "./en-US";
import fr from "./fr";
import de from "./de";
import ru from "./ru";

export default {
  "en-US": enUS, // English
  fr: fr, // French
  de: de, // German
  ru: ru, // Russian
};
```

`/src/i18n/ru/index.js` eklediğimiz dil dosyası aşağıdaki gibi görünmeli:

```javascript
// Russian, ru
// This file was auto-generated by Quasalang

export default {
  hello: `Привет`,
  goodbye: `До свидания`,
  thanks: `Спасибо`,
  buttHair: `стыковые волосы`,
};
```

### Eklediğimiz Dilleri listeleme

Aşağıdaki komut ile eklediğimiz dilleri değiklik algılandığında çalışarak array şeklinde listeler.

```bash
 quasalang generate --lang-switcher

```

[Daha fazla bilgi için](#Array-Biçiminde-Dil-Oluşturma)

### Değişikleri izlemek

Aşağıdaki komut ile CSV dosyasında değişlik yapıldığında otamatik olarak dil oluşturma dosyalarını günceller.

```bash
quasalang generate --watch
```

## İleri seviye Özellikler

### CSV dosyamıza boşluk ekleme

Herhangi bir satıra boşluk eklediğimizde aşağıdaki gibi görünür:

| Key      | English, en-US | French, fr          | German, de      | Russian, ru     |
| -------- | -------------- | ------------------- | --------------- | --------------- |
| &nbsp;   |                |                     |                 |                 |
| hello    | Hello          | Bonjour             | Hallo           | Привет          |
| goodbye  | Goodbye        | Au revoir           | Auf Wiedersehen | До свидания     |
| thanks   | Thanks         | Merci               | Danke           | Спасибо         |
| &nbsp;   |                |                     |                 |                 |
| buttHair | Butt hair      | Cheveux bout à bout | Hintern Haare   | стыковые волосы |
| &nbsp;   |                |                     |                 |                 |

<details>
  <summary>Kaynak Kodu</summary>

```csv
Key,"English, en-US","French, fr","German, de","Russian, ru"
,,,,
hello,"Hello","Bonjour","Hallo",Привет
goodbye,"Goodbye","Au revoir","Auf Wiedersehen",До свидания
thanks,"Thanks","Merci","Danke",Спасибо
,,,,
buttHair,"Butt hair","Cheveux bout à bout","Hintern Haare",стыковые волосы
,,,,
```

</details>

Oluşturduğumuz dil kodları aşağıdaki gibi görünür:

```javascript
// Russian, ru
// This file was auto-generated by Quasalang

export default {
  hello: `Привет`,
  goodbye: `До свидания`,
  thanks: `Спасибо`,

  buttHair: `стыковые волосы`,
};
```

### String Biçiminde Yazım Şekli

Eğer string şeklinde yazarsak aşağıdaki gibi görünür:

| Key           | English, en-US | French, fr | German, de      |
| ------------- | -------------- | ---------- | --------------- |
| **"Hello"**   | Hello          | Bonjour    | Hallo           |
| **"Goodbye"** | Goodbye        | Au revoir  | Auf Wiedersehen |
| **"Thanks"**  | Thanks         | Merci      | Danke           |

<details>
  <summary>Kaynak Kodu</summary>

```csv
Key,"English, en-US","French, fr","German, de"
"""Hello""","Hello","Bonjour","Hallo"
"""Goodbye""","Goodbye","Au revoir","Auf Wiedersehen"
"""Thanks""","Thanks","Merci","Danke"
```

</details>

This will generate language files like this:

```javascript
// French, fr
// This file was auto-generated by Quasalang

export default {
  Hello: `Bonjour`,
  Goodbye: `Au revoir`,
  Thanks: `Merci`,
};
```

### Çoklu Paragraf Ekleme

Çoklu paragraf eklersek aşağıdaki gibi görünür:
| Key | English, en-US | French, fr | German, de |
| ------- | --------------------------------------------------------------- | ----------------------------------------------------------------------- | ----------------------------------------------------------------- |
| hello | Hello | Bonjour | Hallo |
| goodbye | Goodbye | Au revoir | Auf Wiedersehen |
| thanks | Thanks | Merci | Danke |
| welcome | Hey there...<br>Welcome to the app!...<br><br>Hope you like it! | Salut...<br>Bienvenue dans l'appli! ...<br><br>J'espère que vous aimez! | Sie da...<br>Willkommen in der App! ...<br><br>Hoffe du magst es! |

<details>
  <summary>Kaynak Kodu</summary>

```csv
Key,"English, en-US","French, fr","German, de"
hello,"Hello","Bonjour","Hallo"
goodbye,"Goodbye","Au revoir","Auf Wiedersehen"
thanks,"Thanks","Merci","Danke"
welcome,"Hey there...
Welcome to the app!...

Hope you like it!","Salut...
Bienvenue dans l'appli! ...

J'espère que vous aimez!","Sie da...
Willkommen in der App! ...

Hoffe du magst es!"
```

</details>

Aşağıdaki gibi görünür:

```javascript
// English, en-US
// This file was auto-generated by Quasalang

export default {
  hello: `Hello`,
  goodbye: `Goodbye`,
  thanks: `Thanks`,
  welcome: `Hey there...
Welcome to the app!...

Hope you like it!`,
};
```

### Array Biçiminde Dil Oluşturma

Aşağıdaki komut ile array şeklinde oluşturduğumuz diller gözükür.

```bash
 quasalang lang-switcher


```

Consolda bu şeklide gözükür:

```javascript
Your language switcher options array:

[
  { label: 'English', value: 'en-US' },
  { label: 'French', value: 'fr' },
  { label: 'German', value: 'de' }
]
```

`generate` ile kullandığımızda otomatik olarak değişiklikler kayıt edilir.

```bash
 quasalang generate --lang-switcher

```

Consolda bu şeklide gözükür:

```
Wrote 4 files:
┌─────────┬───────────────────┬─────────┬───────────────────────────┐
│ (index) │       File        │  Code   │           Path            │
├─────────┼───────────────────┼─────────┼───────────────────────────┤
│    0    │ 'Main index file' │   ''    │    'src/i18n/index.js'    │
│    1    │     'English'     │ 'en-US' │ 'src/i18n/en-US/index.js' │
│    2    │     'French'      │  'fr'   │  'src/i18n/fr/index.js'   │
│    3    │     'German'      │  'de'   │  'src/i18n/de/index.js'   │
└─────────┴───────────────────┴─────────┴───────────────────────────┘

Your language switcher options array:

[
  { label: 'English', value: 'en-US' },
  { label: 'French', value: 'fr' },
  { label: 'German', value: 'de' }
]
```

### Örnek Quasar Kodu

```js
<template>
  <q-page padding>
    <q-select
      class="q-mb-md"
      v-model="locale"
      :options="localeOptions"
      label="Quasar Language"
      dense
      borderless
      emit-value
      map-options
      options-dense
      filled
      style="min-width: 150px"
    />
    <q-btn :label="$t('hello')"></q-btn>
    <q-btn :label="$t('goodbye')"></q-btn>
    <q-btn :label="$t('thanks')"></q-btn>
    <q-btn :label="$t('buttHair')"></q-btn>
  </q-page>
</template>

<script setup>
import { useI18n } from "vue-i18n";

const { locale } = useI18n({ useScope: "global" });

const localeOptions = [
  { value: "en-US", label: "English" },
  { value: "de", label: "German" },
  { value: "fr", label: "French" },
  { value: "it", label: "Italian" },
  { value: "tr", label: "Turkish" },
];
</script>

```

> Note:[Strings must use singlequote hatası alınırsa çözüm](https://chatgpt.com/share/d06794fe-1de1-4e93-80ca-b43b59f43f9c)

Kaynakça:

- [Detaylı Kaynak Github Reposu](https://github.com/dannyconnell/quasalang)

- [Detaylı Yotube Videosu](https://www.youtube.com/watch?v=yrfSLSjq4-E&list=PLAiDzIdBfy8gRLnMGvfm6NWHHKwFOzmrV&index=5)

- [Tüm Dil Kodları](https://en.wikipedia.org/wiki/List_of_ISO_639_language_codes)

- [Uygulama Yerelleştirmesi için En İyi Diller](https://alconost.medium.com/the-top-10-languages-for-app-localization-ed0baca4d58e)
